<p id="notice"><%= notice %></p>

<p>
  <h1><strong>POST</strong></h1><br>
  <strong>Titulo:</strong>
  <%= @post.titulo %>
</p>

<p>
  <strong>Conteudo:</strong>
  <%= @post.conteudo %>
</p>
<%= link_to 'Apagar POST', @post, method: :delete, data: { confirm: 'Are you sure?' } %>
<br><hr>
<h1>Comentarios</h1>


	<% @comentarios.each do |x|%>
		<%if x.post_id == @post.id%>
			<h4><%= x.nome%><br></h4>
			<em><%= x.comentario%></em>
			<hr style="background-color: red">
		<%end%>
	<%end%>

<hr>
<h2>Deixe seu comentario</h2>


	<%= form_with(model: @comentario, local: true) do |form| %>
		<% if @comentario.errors.any? %>
		    <div id="error_explanation">
		      <h2><%= pluralize(comentario.errors.count, "error") %> prohibited this comentario from being saved:</h2>

		      <ul>
		      	<% comentario.errors.full_messages.each do |message| %>
		        <li><%= message %></li>
		      <% end %>
		      </ul>
		    </div>
		<% end %>


	 	<div class="field">
		    <%= form.label :nome %>
		    <%= form.text_field :nome, id: :comentario_nome %>
	    </div>
	 
	  	<div class="field">
		    <%= form.label :comentario %>
		    <%= form.text_area :comentario, id: :comentario_comentario %>
		</div>

	 	<div class="field">
	   		<%= form.label :post_id %>
	    	<%= form.number_field :post_id, id: :comentario_post_id %>
	 	</div>
		 	<div class="actions">
	    	<%= form.submit %>
	    </div>
	<% end %>


<%= link_to 'Edit', edit_post_path(@post) %> |
<%= link_to 'Back', posts_path %>
